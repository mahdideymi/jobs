{"ast":null,"code":"import axios from 'axios';\nimport { put, take, takeLatest, call } from 'redux-saga/effects';\nimport { FETCH_JOBS, ADD_JOB, EDIT_JOB, DELETE_JOB } from 'store/actionTypes';\nimport { fetchJobsSuccess, addJobSuccess, editJobSuccess, deleteJobSuccess } from 'store/actions';\nconst options = {\n  headers: {\n    'Authorization': 'hmac eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE2MDM4MDI3NDMsImlkIjoiMVNWWFlrcXdPZHBIYUJWN2JSclFVbmtXRWJCIiwidHlwZSI6ImFjY2VzcyJ9.-77Qm-86p09eAgYbiVf8kwNuPMLizloqC7pi2NAnobs'\n  }\n};\nconst headers = {\n  'Authorization': 'hmac eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE2MDM4MDI3NDMsImlkIjoiMVNWWFlrcXdPZHBIYUJWN2JSclFVbmtXRWJCIiwidHlwZSI6ImFjY2VzcyJ9.-77Qm-86p09eAgYbiVf8kwNuPMLizloqC7pi2NAnobs'\n};\n\nasync function fetch() {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const result = await axios.get('http://192.168.0.49:8080/users/jobs', options);\n      console.log(result);\n      resolve(result);\n    } catch (e) {\n      reject(e);\n    }\n  });\n}\n\nasync function create(payload) {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const status = await axios.post('http://192.168.0.49:8080/users/jobs', {\n        jobTitle: payload.title,\n        jobDescription: payload.description\n      }, options);\n      console.log(status);\n      resolve(status);\n    } catch (e) {\n      console.log(e);\n      reject(e);\n    }\n  });\n}\n\nasync function edit(payload) {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const status = await axios.put('http://192.168.0.49:8080/users/jobs', {\n        jobTitle: payload.title,\n        jobDescription: 'New Description'\n      }, {\n        headers,\n        data: {\n          jobId: payload.jobId\n        }\n      });\n      console.log(status);\n      resolve(status);\n    } catch (e) {\n      console.log(e);\n      reject(e);\n    }\n  });\n}\n\nasync function deleteJob(id) {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const status = await axios.delete('http://192.168.0.49:8080/users/jobs', {\n        headers,\n        data: {\n          jobId: id\n        }\n      });\n      console.log(status);\n      resolve(status);\n    } catch (e) {\n      reject(e);\n    }\n  });\n}\n\nfunction* fetchJobsWorker() {\n  // const result = yield call(fetch);\n  // console.log(result);\n  const payload = [{\n    jobId: 1,\n    title: 'New title 1',\n    description: 'A very long description 1',\n    numOfCandidates: 20\n  }, {\n    jobId: 2,\n    title: 'New title 2',\n    description: 'A very long description 2',\n    numOfCandidates: 20\n  }, {\n    jobId: 3,\n    title: 'New title 3',\n    description: 'A very long description 3',\n    numOfCandidates: 20\n  }, {\n    jobId: 2,\n    title: 'New title 2',\n    description: 'A very long description 2',\n    numOfCandidates: 20\n  }, {\n    jobId: 2,\n    title: 'New title 2',\n    description: 'A very long description 2',\n    numOfCandidates: 20\n  }, {\n    jobId: 2,\n    title: 'New title 2',\n    description: 'A very long description 2',\n    numOfCandidates: 20\n  }, {\n    jobId: 2,\n    title: 'New title 2',\n    description: 'A very long description 2',\n    numOfCandidates: 20\n  }, {\n    jobId: 2,\n    title: 'New title 2',\n    description: 'A very long description 2',\n    numOfCandidates: 20\n  }, {\n    jobId: 2,\n    title: 'New title 2',\n    description: 'A very long description 2',\n    numOfCandidates: 20\n  }, {\n    jobId: 2,\n    title: 'New title 2',\n    description: 'A very long description 2',\n    numOfCandidates: 20\n  }, {\n    jobId: 2,\n    title: 'New title 2',\n    description: 'A very long description 2',\n    numOfCandidates: 20\n  }]; // yield put(fetchJobsSuccess(result.data.data.rows));\n\n  yield put(fetchJobsSuccess(payload));\n}\n\nfunction* addJobWorker(payload) {\n  const status = yield call(create, payload);\n  console.log(status);\n  yield put(addJobSuccess(payload));\n}\n\nfunction* editJobWorker(payload) {\n  yield call(edit, payload);\n  yield put(editJobSuccess(payload));\n  console.log('Job edited');\n}\n\nfunction* deleteJobWorker(id) {\n  yield call(deleteJob, id);\n  yield put(deleteJobSuccess(id));\n  console.log('Job deleted');\n}\n\nexport function* watchFetchJobs() {\n  yield takeLatest(FETCH_JOBS, fetchJobsWorker);\n}\nexport function* watchAddJob() {\n  while (true) {\n    const job = yield take(ADD_JOB);\n    console.log('job in watchAddJob', job);\n    yield call(addJobWorker, job.payload);\n  }\n}\nexport function* watchEditJob() {\n  while (true) {\n    const job = yield take(EDIT_JOB);\n    yield call(editJobWorker, job.payload);\n  }\n}\nexport function* watchDeleteJob() {\n  while (true) {\n    const payload = yield take(DELETE_JOB);\n    yield call(deleteJobWorker, payload.id);\n  }\n}","map":{"version":3,"sources":["/home/rasoolhp/Desktop/profile-job/Profile-Jobs-Front/src/store/sagas/jobSaga.ts"],"names":["axios","put","take","takeLatest","call","FETCH_JOBS","ADD_JOB","EDIT_JOB","DELETE_JOB","fetchJobsSuccess","addJobSuccess","editJobSuccess","deleteJobSuccess","options","headers","fetch","Promise","resolve","reject","result","get","console","log","e","create","payload","status","post","jobTitle","title","jobDescription","description","edit","data","jobId","deleteJob","id","delete","fetchJobsWorker","numOfCandidates","addJobWorker","editJobWorker","deleteJobWorker","watchFetchJobs","watchAddJob","job","watchEditJob","watchDeleteJob"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport { put, take, takeLatest, call } from 'redux-saga/effects';\n\nimport {\n  FETCH_JOBS,\n  ADD_JOB,\n  EDIT_JOB,\n  DELETE_JOB\n} from 'store/actionTypes';\n\nimport {\n  fetchJobsSuccess,\n  addJobSuccess,\n  editJobSuccess,\n  deleteJobSuccess\n} from 'store/actions';\n\nimport { IJobCard } from 'models';\n\nconst options = {\n  headers: {\n    'Authorization': 'hmac eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE2MDM4MDI3NDMsImlkIjoiMVNWWFlrcXdPZHBIYUJWN2JSclFVbmtXRWJCIiwidHlwZSI6ImFjY2VzcyJ9.-77Qm-86p09eAgYbiVf8kwNuPMLizloqC7pi2NAnobs'\n  }\n};\n\nconst headers = {\n  'Authorization': 'hmac eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE2MDM4MDI3NDMsImlkIjoiMVNWWFlrcXdPZHBIYUJWN2JSclFVbmtXRWJCIiwidHlwZSI6ImFjY2VzcyJ9.-77Qm-86p09eAgYbiVf8kwNuPMLizloqC7pi2NAnobs'\n};\n\nasync function fetch() {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const result = await axios.get('http://192.168.0.49:8080/users/jobs', options);\n      console.log(result);\n      resolve(result);\n    } catch (e) {\n      reject(e);\n    }\n  });\n}\n\nasync function create(payload: IJobCard) {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const status = await axios.post('http://192.168.0.49:8080/users/jobs', {\n        jobTitle: payload.title,\n        jobDescription: payload.description\n      }, options);\n      console.log(status);\n      resolve(status);\n    } catch (e) {\n      console.log(e);\n      reject(e);\n    }\n  });\n}\n\nasync function edit(payload: IJobCard) {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const status = await axios.put('http://192.168.0.49:8080/users/jobs', {\n        jobTitle: payload.title,\n        jobDescription: 'New Description'\n      }, {\n        headers,\n        data: {\n          jobId: payload.jobId\n        }\n      });\n      console.log(status);\n      resolve(status);\n    } catch (e) {\n      console.log(e);\n      reject(e);\n    }\n  });\n}\n\nasync function deleteJob(id: number) {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const status = await axios.delete('http://192.168.0.49:8080/users/jobs', {\n        headers,\n        data: {\n          jobId: id\n        }\n      });\n      console.log(status);\n      resolve(status);\n    } catch (e) {\n      reject(e);\n    }\n  });\n}\n\nfunction* fetchJobsWorker() {\n  // const result = yield call(fetch);\n  // console.log(result);\n  const payload = [{\n    jobId: 1,\n    title: 'New title 1',\n    description: 'A very long description 1',\n    numOfCandidates: 20\n  }, {\n    jobId: 2,\n    title: 'New title 2',\n    description: 'A very long description 2',\n    numOfCandidates: 20\n  }, {\n    jobId: 3,\n    title: 'New title 3',\n    description: 'A very long description 3',\n    numOfCandidates: 20\n  }, {\n    jobId: 2,\n    title: 'New title 2',\n    description: 'A very long description 2',\n    numOfCandidates: 20\n  }, {\n    jobId: 2,\n    title: 'New title 2',\n    description: 'A very long description 2',\n    numOfCandidates: 20\n  }, {\n    jobId: 2,\n    title: 'New title 2',\n    description: 'A very long description 2',\n    numOfCandidates: 20\n  }, {\n    jobId: 2,\n    title: 'New title 2',\n    description: 'A very long description 2',\n    numOfCandidates: 20\n  }, {\n    jobId: 2,\n    title: 'New title 2',\n    description: 'A very long description 2',\n    numOfCandidates: 20\n  }, {\n    jobId: 2,\n    title: 'New title 2',\n    description: 'A very long description 2',\n    numOfCandidates: 20\n  }, {\n    jobId: 2,\n    title: 'New title 2',\n    description: 'A very long description 2',\n    numOfCandidates: 20\n  }, {\n    jobId: 2,\n    title: 'New title 2',\n    description: 'A very long description 2',\n    numOfCandidates: 20\n  },\n  ];\n  // yield put(fetchJobsSuccess(result.data.data.rows));\n  yield put(fetchJobsSuccess(payload));\n}\n\nfunction* addJobWorker(payload: IJobCard) {\n  const status = yield call(create, payload);\n  console.log(status);\n  yield put(addJobSuccess(payload));\n}\n\nfunction* editJobWorker(payload: IJobCard) {\n  yield call(edit, payload);\n  yield put(editJobSuccess(payload));\n  console.log('Job edited');\n}\n\nfunction* deleteJobWorker(id: number) {\n  yield call(deleteJob, id);\n  yield put(deleteJobSuccess(id));\n  console.log('Job deleted');\n}\n\nexport function* watchFetchJobs() {\n  yield takeLatest(FETCH_JOBS, fetchJobsWorker);\n}\n\nexport function* watchAddJob() {\n  while (true) {\n    const job = yield take(ADD_JOB);\n    console.log('job in watchAddJob', job);\n    yield call(addJobWorker, job.payload);\n  }\n}\n\nexport function* watchEditJob() {\n  while (true) {\n    const job = yield take(EDIT_JOB);\n    yield call(editJobWorker, job.payload);\n  }\n}\n\nexport function* watchDeleteJob() {\n  while (true) {\n    const payload = yield take(DELETE_JOB);\n    yield call(deleteJobWorker, payload.id);\n  }\n}\n"]},"metadata":{},"sourceType":"module"}