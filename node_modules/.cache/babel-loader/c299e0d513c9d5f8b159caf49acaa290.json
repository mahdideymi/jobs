{"ast":null,"code":"import axios from 'axios';\nimport { put, take, takeLatest, call } from 'redux-saga/effects';\nimport { FETCH_JOBS, ADD_JOB, EDIT_JOB, DELETE_JOB } from 'store/actionTypes';\nimport { fetchJobsSuccess, addJobSuccess, editJobSuccess, deleteJobSuccess } from 'store/actions';\nconst options = {\n  headers: {\n    Authorization: 'hmac eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE2MDM4MDI3NDMsImlkIjoiMVNWWFlrcXdPZHBIYUJWN2JSclFVbmtXRWJCIiwidHlwZSI6ImFjY2VzcyJ9.-77Qm-86p09eAgYbiVf8kwNuPMLizloqC7pi2NAnobs'\n  }\n};\nconst headers = {\n  Authorization: 'hmac eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE2MDM4MDI3NDMsImlkIjoiMVNWWFlrcXdPZHBIYUJWN2JSclFVbmtXRWJCIiwidHlwZSI6ImFjY2VzcyJ9.-77Qm-86p09eAgYbiVf8kwNuPMLizloqC7pi2NAnobs'\n};\n\nasync function fetch() {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const result = await axios.get('http://192.168.0.49:8080/users/jobs', options);\n      console.log(result);\n      resolve(result);\n    } catch (e) {\n      reject(e);\n    }\n  });\n}\n\nasync function create(payload) {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const status = await axios.post('http://192.168.0.49:8080/users/jobs', {\n        jobTitle: payload.title,\n        jobDescription: payload.description\n      }, options);\n      console.log(status);\n      resolve(status);\n    } catch (e) {\n      console.log(e);\n      reject(e);\n    }\n  });\n}\n\nasync function edit(payload) {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const status = await axios.put('http://192.168.0.49:8080/users/jobs', {\n        jobTitle: payload.title,\n        jobDescription: 'New Description'\n      }, {\n        headers,\n        data: {\n          jobId: payload.jobId\n        }\n      });\n      console.log(status);\n      resolve(status);\n    } catch (e) {\n      console.log(e);\n      reject(e);\n    }\n  });\n}\n\nasync function deleteJob(id) {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const status = await axios.delete('http://192.168.0.49:8080/users/jobs', {\n        headers,\n        data: {\n          jobId: id\n        }\n      });\n      console.log(status);\n      resolve(status);\n    } catch (e) {\n      reject(e);\n    }\n  });\n}\n\nfunction* fetchJobsWorker() {\n  // const result = yield call(fetch);\n  // console.log(result);\n  const payload = [{\n    jobId: 1,\n    title: 'New title 1',\n    description: 'A very long description 1',\n    numOfCandidates: 20\n  }, {\n    jobId: 2,\n    title: 'New title 2',\n    description: 'A very long description 2',\n    numOfCandidates: 20\n  }, {\n    jobId: 3,\n    title: 'New title 3',\n    description: 'A very long description 3',\n    numOfCandidates: 20\n  }, {\n    jobId: 2,\n    title: 'New title 2',\n    description: 'A very long description 2',\n    numOfCandidates: 20\n  }, {\n    jobId: 2,\n    title: 'New title 2',\n    description: 'A very long description 2',\n    numOfCandidates: 20\n  }, {\n    jobId: 2,\n    title: 'New title 2',\n    description: 'A very long description 2',\n    numOfCandidates: 20\n  }, {\n    jobId: 2,\n    title: 'New title 2',\n    description: 'A very long description 2',\n    numOfCandidates: 20\n  }, {\n    jobId: 2,\n    title: 'New title 2',\n    description: 'A very long description 2',\n    numOfCandidates: 20\n  }, {\n    jobId: 2,\n    title: 'New title 2',\n    description: 'A very long description 2',\n    numOfCandidates: 20\n  }, {\n    jobId: 2,\n    title: 'New title 2',\n    description: 'A very long description 2',\n    numOfCandidates: 20\n  }, {\n    jobId: 2,\n    title: 'New title 2',\n    description: 'A very long description 2',\n    numOfCandidates: 20\n  }]; // yield put(fetchJobsSuccess(result.data.data.rows));\n\n  yield put(fetchJobsSuccess(payload));\n\n  try {} catch (e) {}\n}\n\nfunction* addJobWorker(payload) {\n  const status = yield call(create, payload);\n  console.log(status);\n  yield put(addJobSuccess(payload));\n}\n\nfunction* editJobWorker(payload) {\n  yield call(edit, payload);\n  yield put(editJobSuccess(payload));\n  console.log('Job edited');\n}\n\nfunction* deleteJobWorker(id) {\n  yield call(deleteJob, id);\n  yield put(deleteJobSuccess(id));\n  console.log('Job deleted');\n}\n\nexport function* watchFetchJobs() {\n  yield takeLatest(FETCH_JOBS, fetchJobsWorker);\n}\nexport function* watchAddJob() {\n  while (true) {\n    const job = yield take(ADD_JOB);\n    console.log('job in watchAddJob', job);\n    yield call(addJobWorker, job.payload);\n  }\n}\nexport function* watchEditJob() {\n  while (true) {\n    const job = yield take(EDIT_JOB);\n    yield call(editJobWorker, job.payload);\n  }\n}\nexport function* watchDeleteJob() {\n  while (true) {\n    const payload = yield take(DELETE_JOB);\n    yield call(deleteJobWorker, payload.id);\n  }\n}","map":{"version":3,"sources":["/home/rasoolhp/Desktop/profile-job/Profile-Jobs-Front/src/store/sagas/jobSaga.ts"],"names":["axios","put","take","takeLatest","call","FETCH_JOBS","ADD_JOB","EDIT_JOB","DELETE_JOB","fetchJobsSuccess","addJobSuccess","editJobSuccess","deleteJobSuccess","options","headers","Authorization","fetch","Promise","resolve","reject","result","get","console","log","e","create","payload","status","post","jobTitle","title","jobDescription","description","edit","data","jobId","deleteJob","id","delete","fetchJobsWorker","numOfCandidates","addJobWorker","editJobWorker","deleteJobWorker","watchFetchJobs","watchAddJob","job","watchEditJob","watchDeleteJob"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport { put, take, takeLatest, call } from 'redux-saga/effects';\n\nimport { FETCH_JOBS, ADD_JOB, EDIT_JOB, DELETE_JOB } from 'store/actionTypes';\n\nimport {\n  fetchJobsSuccess,\n  fetchJobsError,\n  addJobSuccess,\n  editJobSuccess,\n  deleteJobSuccess,\n} from 'store/actions';\n\nimport { IJobCard } from 'models';\n\nconst options = {\n  headers: {\n    Authorization:\n      'hmac eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE2MDM4MDI3NDMsImlkIjoiMVNWWFlrcXdPZHBIYUJWN2JSclFVbmtXRWJCIiwidHlwZSI6ImFjY2VzcyJ9.-77Qm-86p09eAgYbiVf8kwNuPMLizloqC7pi2NAnobs',\n  },\n};\n\nconst headers = {\n  Authorization:\n    'hmac eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE2MDM4MDI3NDMsImlkIjoiMVNWWFlrcXdPZHBIYUJWN2JSclFVbmtXRWJCIiwidHlwZSI6ImFjY2VzcyJ9.-77Qm-86p09eAgYbiVf8kwNuPMLizloqC7pi2NAnobs',\n};\n\nasync function fetch() {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const result = await axios.get(\n        'http://192.168.0.49:8080/users/jobs',\n        options,\n      );\n      console.log(result);\n      resolve(result);\n    } catch (e) {\n      reject(e);\n    }\n  });\n}\n\nasync function create(payload: IJobCard) {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const status = await axios.post(\n        'http://192.168.0.49:8080/users/jobs',\n        {\n          jobTitle: payload.title,\n          jobDescription: payload.description,\n        },\n        options,\n      );\n      console.log(status);\n      resolve(status);\n    } catch (e) {\n      console.log(e);\n      reject(e);\n    }\n  });\n}\n\nasync function edit(payload: IJobCard) {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const status = await axios.put(\n        'http://192.168.0.49:8080/users/jobs',\n        {\n          jobTitle: payload.title,\n          jobDescription: 'New Description',\n        },\n        {\n          headers,\n          data: {\n            jobId: payload.jobId,\n          },\n        },\n      );\n      console.log(status);\n      resolve(status);\n    } catch (e) {\n      console.log(e);\n      reject(e);\n    }\n  });\n}\n\nasync function deleteJob(id: number) {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const status = await axios.delete('http://192.168.0.49:8080/users/jobs', {\n        headers,\n        data: {\n          jobId: id,\n        },\n      });\n      console.log(status);\n      resolve(status);\n    } catch (e) {\n      reject(e);\n    }\n  });\n}\n\nfunction* fetchJobsWorker() {\n  // const result = yield call(fetch);\n  // console.log(result);\n  const payload = [\n    {\n      jobId: 1,\n      title: 'New title 1',\n      description: 'A very long description 1',\n      numOfCandidates: 20,\n    },\n    {\n      jobId: 2,\n      title: 'New title 2',\n      description: 'A very long description 2',\n      numOfCandidates: 20,\n    },\n    {\n      jobId: 3,\n      title: 'New title 3',\n      description: 'A very long description 3',\n      numOfCandidates: 20,\n    },\n    {\n      jobId: 2,\n      title: 'New title 2',\n      description: 'A very long description 2',\n      numOfCandidates: 20,\n    },\n    {\n      jobId: 2,\n      title: 'New title 2',\n      description: 'A very long description 2',\n      numOfCandidates: 20,\n    },\n    {\n      jobId: 2,\n      title: 'New title 2',\n      description: 'A very long description 2',\n      numOfCandidates: 20,\n    },\n    {\n      jobId: 2,\n      title: 'New title 2',\n      description: 'A very long description 2',\n      numOfCandidates: 20,\n    },\n    {\n      jobId: 2,\n      title: 'New title 2',\n      description: 'A very long description 2',\n      numOfCandidates: 20,\n    },\n    {\n      jobId: 2,\n      title: 'New title 2',\n      description: 'A very long description 2',\n      numOfCandidates: 20,\n    },\n    {\n      jobId: 2,\n      title: 'New title 2',\n      description: 'A very long description 2',\n      numOfCandidates: 20,\n    },\n    {\n      jobId: 2,\n      title: 'New title 2',\n      description: 'A very long description 2',\n      numOfCandidates: 20,\n    },\n  ];\n  // yield put(fetchJobsSuccess(result.data.data.rows));\n  yield put(fetchJobsSuccess(payload));\n\n  try {\n  } catch (e) {}\n}\n\nfunction* addJobWorker(payload: IJobCard) {\n  const status = yield call(create, payload);\n  console.log(status);\n  yield put(addJobSuccess(payload));\n}\n\nfunction* editJobWorker(payload: IJobCard) {\n  yield call(edit, payload);\n  yield put(editJobSuccess(payload));\n  console.log('Job edited');\n}\n\nfunction* deleteJobWorker(id: number) {\n  yield call(deleteJob, id);\n  yield put(deleteJobSuccess(id));\n  console.log('Job deleted');\n}\n\nexport function* watchFetchJobs() {\n  yield takeLatest(FETCH_JOBS, fetchJobsWorker);\n}\n\nexport function* watchAddJob() {\n  while (true) {\n    const job = yield take(ADD_JOB);\n    console.log('job in watchAddJob', job);\n    yield call(addJobWorker, job.payload);\n  }\n}\n\nexport function* watchEditJob() {\n  while (true) {\n    const job = yield take(EDIT_JOB);\n    yield call(editJobWorker, job.payload);\n  }\n}\n\nexport function* watchDeleteJob() {\n  while (true) {\n    const payload = yield take(DELETE_JOB);\n    yield call(deleteJobWorker, payload.id);\n  }\n}\n"]},"metadata":{},"sourceType":"module"}