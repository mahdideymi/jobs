{"ast":null,"code":"import _slicedToArray from \"/home/rasoolhp/Desktop/profile-job/Profile-Jobs-Front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/rasoolhp/Desktop/profile-job/Profile-Jobs-Front/src/components/JobCreateModal/index.tsx\";\nimport React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Modal, Button, Form, Input, Typography } from 'antd';\nimport { Formik } from 'formik';\nimport * as Yup from 'yup';\nimport { addJob, editJob } from 'store/actions';\nimport './style.scss';\nconst Text = Typography.Text;\nconst TextArea = Input.TextArea;\nconst schema = Yup.object().shape({\n  title: Yup.string().required('لطفا عنوان موقعیت شغلی را وارد کنید').min(3, 'عنوان موقعیت شغلی نمیتواند از 3 حرف کمتر باشد').max(20, 'عنوان موقعیت شغلی نمیتواند از 20 حرف بیشتر باشد'),\n  description: Yup.string().required('لطفا توضیحات را وارد کنید').min(5, 'توضیحات نمیتواند از 5 حرف کمتر باشد').max(100, 'توضیحات نمیتواند از 100 حرف بیشتر باشد')\n});\nexport const JobCreateModal = props => {\n  const dispatch = useDispatch();\n  const jobs = useSelector(state => state.jobs);\n\n  const _useState = useState(props.isVisible),\n        _useState2 = _slicedToArray(_useState, 2),\n        visible = _useState2[0],\n        setVisible = _useState2[1];\n\n  let job = jobs.data.find(item => item.jobId === props.id);\n\n  function handleOk(values) {\n    dispatch(addJob({\n      title: values.title.trim(),\n      description: values.description.trim()\n    }));\n    destroyModal();\n  }\n\n  function handleEdit(id, values) {\n    dispatch(editJob({\n      id,\n      title: values.title.trim(),\n      description: values.description.trim()\n    }));\n    destroyModal();\n  }\n\n  function destroyModal() {\n    setVisible(false);\n    props.hideModal(props.id);\n  }\n\n  useEffect(() => {\n    setVisible(props.isVisible);\n  }, [props.isVisible]);\n  return React.createElement(Modal, {\n    closable: false,\n    title: props.modalTitle,\n    visible: visible,\n    onCancel: () => {\n      destroyModal();\n    },\n    footer: null,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, React.createElement(Formik, {\n    enableReinitialize: true,\n    initialValues: {\n      title: job ? job.title : '',\n      description: job ? job.jobDescription : ''\n    },\n    validationSchema: schema,\n    onSubmit: (values, {\n      setSubmitting\n    }) => {\n      if (props.modalTitle === 'ویرایش') {\n        handleEdit(props.id, values);\n      } else {\n        handleOk(values);\n      }\n\n      setSubmitting(false);\n      values.title = '';\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, ({\n    values,\n    touched,\n    errors,\n    isSubmitting,\n    handleChange,\n    handleBlur,\n    handleSubmit\n  }) => React.createElement(Form, {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, \"\\u0639\\u0646\\u0648\\u0627\\u0646 \\u0645\\u0648\\u0642\\u0639\\u06CC\\u062A \\u0634\\u063A\\u0644\\u06CC\"), React.createElement(Input, {\n    autoComplete: \"off\",\n    className: \"job-create-modal__input \".concat(errors.title && touched.title ? 'job-create-modal__input--error' : '', \" \"),\n    id: \"title\",\n    placeholder: \"\\u0637\\u0631\\u0627\\u062D \\u06AF\\u0631\\u0627\\u0641\\u06CC\\u06A9\",\n    value: values.title,\n    onChange: handleChange,\n    onBlur: handleBlur,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }), errors.title && touched.title && React.createElement(Text, {\n    className: \"job-create-modal__danger\",\n    type: \"danger\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, errors.title), React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, \"\\u062A\\u0648\\u0636\\u06CC\\u062D\\u0627\\u062A\"), React.createElement(TextArea, {\n    autosize: {\n      minRows: 4,\n      maxRows: 6\n    },\n    className: \"job-create-modal__input \".concat(errors.description && touched.description ? 'job-create-modal__input--error' : ''),\n    id: \"description\",\n    placeholder: \"\\u062A\\u0648\\u0636\\u06CC\\u062D\\u0627\\u062A \\u0645\\u0648\\u0642\\u0639\\u06CC\\u062A \\u0634\\u063A\\u0644\\u06CC \\u062E\\u0648\\u062F \\u0631\\u0627 \\u0628\\u0646\\u0648\\u06CC\\u0633\\u06CC\\u062F\",\n    value: values.description,\n    onChange: handleChange,\n    onBlur: handleBlur,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }), errors.description && touched.description && React.createElement(Text, {\n    className: \"job-create-modal__danger\",\n    type: \"danger\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141\n    },\n    __self: this\n  }, errors.description), React.createElement(Button, {\n    className: \"job-create-modal__button\",\n    type: \"primary\",\n    htmlType: \"submit\",\n    disabled: isSubmitting,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }, \"\\u0627\\u06CC\\u062C\\u0627\\u062F\"))));\n};","map":{"version":3,"sources":["/home/rasoolhp/Desktop/profile-job/Profile-Jobs-Front/src/components/JobCreateModal/index.tsx"],"names":["React","useState","useEffect","useSelector","useDispatch","Modal","Button","Form","Input","Typography","Formik","Yup","addJob","editJob","Text","TextArea","schema","object","shape","title","string","required","min","max","description","JobCreateModal","props","dispatch","jobs","state","isVisible","visible","setVisible","job","data","find","item","jobId","id","handleOk","values","trim","destroyModal","handleEdit","hideModal","modalTitle","jobDescription","setSubmitting","touched","errors","isSubmitting","handleChange","handleBlur","handleSubmit","minRows","maxRows"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Modal, Button, Form, Input, Typography } from 'antd';\nimport { Formik } from 'formik';\nimport * as Yup from 'yup';\n\nimport { addJob, editJob } from 'store/actions';\nimport './style.scss';\n\nconst { Text } = Typography;\nconst { TextArea } = Input;\n\nconst schema = Yup.object().shape({\n  title: Yup.string()\n    .required('لطفا عنوان موقعیت شغلی را وارد کنید')\n    .min(3, 'عنوان موقعیت شغلی نمیتواند از 3 حرف کمتر باشد')\n    .max(20, 'عنوان موقعیت شغلی نمیتواند از 20 حرف بیشتر باشد'),\n  description: Yup.string()\n    .required('لطفا توضیحات را وارد کنید')\n    .min(5, 'توضیحات نمیتواند از 5 حرف کمتر باشد')\n    .max(100, 'توضیحات نمیتواند از 100 حرف بیشتر باشد'),\n});\n\ninterface IProps {\n  modalTitle: string;\n  id: number;\n  isVisible: boolean;\n  hideModal: (id: number) => void;\n}\n\nexport const JobCreateModal: React.FC<IProps> = props => {\n  const dispatch = useDispatch();\n  const jobs = useSelector((state: any) => state.jobs);\n  const [visible, setVisible] = useState(props.isVisible);\n\n  let job = jobs.data.find((item: any) => item.jobId === props.id);\n\n  function handleOk(values: any) {\n    dispatch(\n      addJob({\n        title: values.title.trim(),\n        description: values.description.trim(),\n      }),\n    );\n    destroyModal();\n  }\n\n  function handleEdit(id: number, values: any) {\n    dispatch(\n      editJob({\n        id,\n        title: values.title.trim(),\n        description: values.description.trim(),\n      }),\n    );\n    destroyModal();\n  }\n\n  function destroyModal() {\n    setVisible(false);\n    props.hideModal(props.id);\n  }\n\n  useEffect(() => {\n    setVisible(props.isVisible);\n  }, [props.isVisible]);\n\n  return (\n    <Modal\n      closable={false}\n      title={props.modalTitle}\n      visible={visible}\n      onCancel={() => {\n        destroyModal();\n      }}\n      footer={null}>\n      <Formik\n        enableReinitialize\n        initialValues={{\n          title: job ? job.title : '',\n          description: job ? job.jobDescription : '',\n        }}\n        validationSchema={schema}\n        onSubmit={(values, { setSubmitting }) => {\n          if (props.modalTitle === 'ویرایش') {\n            handleEdit(props.id, values);\n          } else {\n            handleOk(values);\n          }\n          setSubmitting(false);\n          values.title = '';\n        }}>\n        {({\n          values,\n          touched,\n          errors,\n          isSubmitting,\n          handleChange,\n          handleBlur,\n          handleSubmit,\n        }) => (\n          <Form onSubmit={handleSubmit}>\n            <span>عنوان موقعیت شغلی</span>\n\n            <Input\n              autoComplete='off'\n              className={`job-create-modal__input ${\n                errors.title && touched.title\n                  ? 'job-create-modal__input--error'\n                  : ''\n              } `}\n              id='title'\n              placeholder='طراح گرافیک'\n              value={values.title}\n              onChange={handleChange}\n              onBlur={handleBlur}\n            />\n            {errors.title && touched.title && (\n              <Text className='job-create-modal__danger' type='danger'>\n                {errors.title}\n              </Text>\n            )}\n            <span>توضیحات</span>\n            <TextArea\n              autosize={{\n                minRows: 4,\n                maxRows: 6,\n              }}\n              className={`job-create-modal__input ${\n                errors.description && touched.description\n                  ? 'job-create-modal__input--error'\n                  : ''\n              }`}\n              id='description'\n              placeholder='توضیحات موقعیت شغلی خود را بنویسید'\n              value={values.description}\n              onChange={handleChange}\n              onBlur={handleBlur}\n            />\n            {errors.description && touched.description && (\n              <Text className='job-create-modal__danger' type='danger'>\n                {errors.description}\n              </Text>\n            )}\n            <Button\n              className='job-create-modal__button'\n              type='primary'\n              htmlType='submit'\n              disabled={isSubmitting}>\n              ایجاد\n            </Button>\n          </Form>\n        )}\n      </Formik>\n    </Modal>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}